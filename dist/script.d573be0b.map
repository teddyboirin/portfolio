{"version":3,"sources":["js/script.js"],"names":["menu","document","getElementById","menuClose","addEventListener","classList","toggle","TextScramble","el","chars","update","bind","newText","oldText","innerText","length","Math","max","promise","Promise","resolve","queue","i","from","to","start","floor","random","end","push","cancelAnimationFrame","frameRequest","frame","output","complete","n","char","randomChar","innerHTML","requestAnimationFrame","phrases","querySelector","fx","counter","next","setText","then","setTimeout"],"mappings":"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","file":"script.d573be0b.map","sourceRoot":"../src","sourcesContent":["let menu = document.getElementById('menu');\nlet menuClose = document.getElementById('menu-close');\n// ouvrir le menu \n\nmenu.addEventListener('click', () => {\n  menuClose.classList.toggle('menu-open');\n});\n\n// ——————————————————————————————————————————————————\n// TextScramble\n// ——————————————————————————————————————————————————\n\nclass TextScramble {\n  constructor(el) {\n    this.el = el\n    this.chars = '!<>-_\\\\/[]{}—=+*^?#________'\n    this.update = this.update.bind(this)\n  }\n  setText(newText) {\n    const oldText = this.el.innerText\n    const length = Math.max(oldText.length, newText.length)\n    const promise = new Promise((resolve) => this.resolve = resolve)\n    this.queue = []\n    for (let i = 0; i < length; i++) {\n      const from = oldText[i] || ''\n      const to = newText[i] || ''\n      const start = Math.floor(Math.random() * 40)\n      const end = start + Math.floor(Math.random() * 40)\n      this.queue.push({ from, to, start, end })\n    }\n    cancelAnimationFrame(this.frameRequest)\n    this.frame = 0\n    this.update()\n    return promise\n  }\n  update() {\n    let output = ''\n    let complete = 0\n    for (let i = 0, n = this.queue.length; i < n; i++) {\n      let { from, to, start, end, char } = this.queue[i]\n      if (this.frame >= end) {\n        complete++\n        output += to\n      } else if (this.frame >= start) {\n        if (!char || Math.random() < 0.28) {\n          char = this.randomChar()\n          this.queue[i].char = char\n        }\n        output += `<span class=\"dud\">${char}</span>`\n      } else {\n        output += from\n      }\n    }\n    this.el.innerHTML = output\n    if (complete === this.queue.length) {\n      this.resolve()\n    } else {\n      this.frameRequest = requestAnimationFrame(this.update)\n      this.frame++\n    }\n  }\n  randomChar() {\n    return this.chars[Math.floor(Math.random() * this.chars.length)]\n  }\n}\n\n// ——————————————————————————————————————————————————\n// Example\n// ——————————————————————————————————————————————————\n\nconst phrases = [\n  'Bonjour',\n  'bienvenue sur le portfolio',\n  'de Teddy Boirin',\n  'bonne visite !'\n]\n\nconst el = document.querySelector('.text')\nconst fx = new TextScramble(el)\n\nlet counter = 0\nconst next = () => {\n  fx.setText(phrases[counter]).then(() => {\n    setTimeout(next, 1000)\n  })\n  counter = (counter + 1) % phrases.length\n}\n\nnext()"]}